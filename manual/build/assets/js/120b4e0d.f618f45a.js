"use strict";(globalThis.webpackChunkmanual=globalThis.webpackChunkmanual||[]).push([[7089],{6064(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"operations/client-portals","title":"Client Portals","description":"Portal queue management system","source":"@site/docs/operations/client-portals.md","sourceDirName":"operations","slug":"/operations/client-portals","permalink":"/operations/client-portals","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Client Portals","description":"Portal queue management system"},"sidebar":"systemSidebar","previous":{"title":"Standard Operating Procedures","permalink":"/operations/sops"},"next":{"title":"Retrospective Template","permalink":"/retrospectives/template"}}');var i=s(4848),l=s(8453);const a={sidebar_position:2,title:"Client Portals",description:"Portal queue management system"},r="Client Portals",d={},c=[{value:"Queue Stages",id:"queue-stages",level:2},{value:"Queue Storage",id:"queue-storage",level:2},{value:"Item Schema",id:"item-schema",level:2},{value:"Portal API Endpoints",id:"portal-api-endpoints",level:2},{value:"List Clients",id:"list-clients",level:3},{value:"Get Queue State",id:"get-queue-state",level:3},{value:"Upload Asset (Add to Ingest)",id:"upload-asset-add-to-ingest",level:3},{value:"Process Ingest Item",id:"process-ingest-item",level:3},{value:"Send to Client",id:"send-to-client",level:3},{value:"Client Approve",id:"client-approve",level:3},{value:"Move Item (Manual)",id:"move-item-manual",level:3},{value:"GBP Actions",id:"gbp-actions",level:3},{value:"Onboarding New Clients",id:"onboarding-new-clients",level:2},{value:"Integration with Review Workflow",id:"integration-with-review-workflow",level:2},{value:"Manifest Logging",id:"manifest-logging",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"client-portals",children:"Client Portals"})}),"\n",(0,i.jsx)(n.p,{children:"The Portal Spoke manages content queues for agency clients, tracking assets from upload through publication."}),"\n",(0,i.jsx)(n.h2,{id:"queue-stages",children:"Queue Stages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"INGEST  \u2500\u2500\u2192  AGENCY REVIEW  \u2500\u2500\u2192  CLIENT REVIEW  \u2500\u2500\u2192  PUBLISHED\n  \u2502               \u2502                    \u2502\n  \u2502    (Process)  \u2502     (Send to       \u2502    (Client\n  \u2502               \u2502      Client)       \u2502     Approves)\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Stage"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Action to Progress"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ingest"})}),(0,i.jsx)(n.td,{children:"Raw assets uploaded by client"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/process"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agencyReview"})}),(0,i.jsx)(n.td,{children:"Content created, awaiting agency approval"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/send-to-client"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"clientReview"})}),(0,i.jsx)(n.td,{children:"Sent to client for approval"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/approve"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"published"})}),(0,i.jsx)(n.td,{children:"Approved and posted"}),(0,i.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"queue-storage",children:"Queue Storage"}),"\n",(0,i.jsx)(n.p,{children:"Each client's queue is stored at:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/clients/{clientId}/queue/queue.json\n"})}),"\n",(0,i.jsx)(n.p,{children:"Structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "ingest": [\n    { "id": "ASSET_001", "complete": false, "metadata": {...} }\n  ],\n  "agencyReview": [],\n  "clientReview": [],\n  "published": [],\n  "updatedAt": "2026-01-20T10:00:00.000Z"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"item-schema",children:"Item Schema"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'{\n  "id": "POST_001",\n  "complete": false,\n  "metadata": {\n    "source": "Client Upload",\n    "notes": "Photo from Friday event",\n    "type": "Image",                    // Image, Video, Text\n    "uploadedAt": "2026-01-20T10:00:00.000Z",\n    "status": "Waiting for Chase approval",\n    "thread": "Blues Night Recap",       // Content thread title\n    "sourceAsset": "ASSET_001",         // Original asset ID\n    "publishedDate": "2026-01-21"       // When published\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"portal-api-endpoints",children:"Portal API Endpoints"}),"\n",(0,i.jsx)(n.h3,{id:"list-clients",children:"List Clients"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -H "X-API-Key: KEY" https://superchase-production.up.railway.app/api/portal/clients\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{ "success": true, "clients": ["bigmuddy", "studioc", "tuthill", "utopia", "cptv"] }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"get-queue-state",children:"Get Queue State"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -H "X-API-Key: KEY" https://superchase-production.up.railway.app/api/portal/bigmuddy/queue\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "clientId": "bigmuddy",\n  "queue": {\n    "ingest": [...],\n    "agencyReview": [...],\n    "clientReview": [...],\n    "published": [...]\n  },\n  "counts": {\n    "ingest": 2,\n    "agencyReview": 1,\n    "clientReview": 3,\n    "published": 15,\n    "total": 21\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"upload-asset-add-to-ingest",children:"Upload Asset (Add to Ingest)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{\n    "id": "friday_photo_01.jpg",\n    "source": "Client Upload",\n    "notes": "Main stage during blues set",\n    "type": "Image"\n  }\' \\\n  https://superchase-production.up.railway.app/api/portal/bigmuddy/upload\n'})}),"\n",(0,i.jsx)(n.h3,{id:"process-ingest-item",children:"Process Ingest Item"}),"\n",(0,i.jsx)(n.p,{children:"Move from ingest to agency review (creates content item):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"itemId": "ASSET_001", "thread": "Friday Blues Night Recap"}\' \\\n  https://superchase-production.up.railway.app/api/portal/bigmuddy/process\n'})}),"\n",(0,i.jsx)(n.h3,{id:"send-to-client",children:"Send to Client"}),"\n",(0,i.jsx)(n.p,{children:"Move from agency review to client review:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"itemId": "POST_001"}\' \\\n  https://superchase-production.up.railway.app/api/portal/bigmuddy/send-to-client\n'})}),"\n",(0,i.jsx)(n.h3,{id:"client-approve",children:"Client Approve"}),"\n",(0,i.jsx)(n.p,{children:"Move from client review to published:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"itemId": "POST_001"}\' \\\n  https://superchase-production.up.railway.app/api/portal/bigmuddy/approve\n'})}),"\n",(0,i.jsx)(n.h3,{id:"move-item-manual",children:"Move Item (Manual)"}),"\n",(0,i.jsx)(n.p,{children:"Move item between any stages:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"itemId": "POST_001", "from": "clientReview", "to": "agencyReview"}\' \\\n  https://superchase-production.up.railway.app/api/portal/bigmuddy/move\n'})}),"\n",(0,i.jsx)(n.h3,{id:"gbp-actions",children:"GBP Actions"}),"\n",(0,i.jsx)(n.p,{children:"Execute Google Business Profile actions for client:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"action": "post", "text": "Join us for Blues Night this Friday!"}\' \\\n  https://superchase-production.up.railway.app/api/portal/bigmuddy/gbp\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Actions: ",(0,i.jsx)(n.code,{children:"post"}),", ",(0,i.jsx)(n.code,{children:"media"}),", ",(0,i.jsx)(n.code,{children:"qa"}),", ",(0,i.jsx)(n.code,{children:"insights"})]}),"\n",(0,i.jsx)(n.h2,{id:"onboarding-new-clients",children:"Onboarding New Clients"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create tenant"})," via Tenant Manager:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"id":"newclient","name":"New Client","businessType":"hospitality"}\' \\\n  https://superchase-production.up.railway.app/api/tenants\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Directory structure"})," is auto-created:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/clients/newclient/\n  config.json    # Tenant config\n  assets/        # Client media\n  content/       # Generated content\n  queue/         # Queue state\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Initialize queue"})," by uploading first asset:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST -H "X-API-Key: KEY" \\\n  -d \'{"id":"welcome_asset","source":"Onboarding","type":"Image"}\' \\\n  https://superchase-production.up.railway.app/api/portal/newclient/upload\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configure style"})," (optional):\nUpdate ",(0,i.jsx)(n.code,{children:"/lib/style-engine.js"})," with client-specific STYLE_PROMPTS and VOICE_GUIDELINES."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"integration-with-review-workflow",children:"Integration with Review Workflow"}),"\n",(0,i.jsxs)(n.p,{children:["The Portal queue handles asset-to-content flow, while the ",(0,i.jsx)(n.a,{href:"/system/review-workflow",children:"Review Workflow"})," handles content approval."]}),"\n",(0,i.jsx)(n.p,{children:"Typical flow:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Client uploads asset -> Portal ",(0,i.jsx)(n.code,{children:"ingest"})]}),"\n",(0,i.jsxs)(n.li,{children:["Agency creates content from asset -> Portal ",(0,i.jsx)(n.code,{children:"agencyReview"})]}),"\n",(0,i.jsxs)(n.li,{children:["Content submitted for approval -> Review Workflow ",(0,i.jsx)(n.code,{children:"AGENCY_REVIEW"})]}),"\n",(0,i.jsxs)(n.li,{children:["Agency approves -> Portal ",(0,i.jsx)(n.code,{children:"clientReview"})," + Review ",(0,i.jsx)(n.code,{children:"CLIENT_REVIEW"})]}),"\n",(0,i.jsxs)(n.li,{children:["Client approves -> Portal ",(0,i.jsx)(n.code,{children:"published"})," + Review ",(0,i.jsx)(n.code,{children:"PUBLISHED"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"manifest-logging",children:"Manifest Logging"}),"\n",(0,i.jsxs)(n.p,{children:["All portal actions are logged to ",(0,i.jsx)(n.code,{children:"/manifest.jsonl"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2026-01-20T10:00:00.000Z",\n  "agent": "Portal",\n  "finding": "New asset uploaded for @bigmuddy: ASSET_001",\n  "status": "Complete",\n  "client": "bigmuddy"\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["See also: ",(0,i.jsx)(n.a,{href:"/system/agency-mode",children:"Agency Mode"}),", ",(0,i.jsx)(n.a,{href:"/system/review-workflow",children:"Review Workflow"})]})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>r});var t=s(6540);const i={},l=t.createContext(i);function a(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);